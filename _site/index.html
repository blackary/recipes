<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
    <link
      rel="stylesheet"
      href="/assets/css/recipe-styles.css"
    />
    <link
      rel="stylesheet"
      href="/assets/css/styles.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"
    />
  </head>
  <body>
    <header>
      <h1><a href="/"></a></h1>
    </header>
    <main><h2>Blackwood Family Recipes</h2>
<!-- <p>Search and find your favorite recipes.</p> -->

<!-- <h2>Search Recipes</h2> -->
<input
  type="text"
  id="search-input"
  placeholder="Search for recipes..."
  autocomplete="off"
/>
<div id="search-results" class="dropdown-content">
  <!-- Search results will be dynamically inserted here -->
</div>

<!-- Recipes Tiles -->
<div class="recipes-container">
  
  <a href="/recipes/chocolate_cake.html" class="recipe-tile">
    <img
      src="https://sallysbakingaddiction.com/wp-content/uploads/2013/04/triple-chocolate-cake-4.jpg"
      alt="Chocolate Cake"
    />
    <h2>Chocolate Cake</h2>
    <p><p>A rich and moist chocolate cake perfect for any occasion.</p>
</p>
  </a>
  
  <a href="/recipes/lemon_cake.html" class="recipe-tile">
    <img
      src="/assets/images/placeholder.jpg"
      alt="Lemon Cake"
    />
    <h2>Lemon Cake</h2>
    <p><p>This delightful Lemon Cake is infused with fresh lemon zest and topped with a tangy lemon glaze.</p>
</p>
  </a>
  
  <a href="/recipes/lemon_meringue_pie.html" class="recipe-tile">
    <img
      src="/assets/images/placeholder.jpg"
      alt="Lemon Meringue Pie"
    />
    <h2>Lemon Meringue Pie</h2>
    <p><p>A classic dessert featuring a tangy lemon filling topped with a fluffy meringue.</p>
</p>
  </a>
  
  <a href="/recipes/vanilla_cupcakes.html" class="recipe-tile">
    <img
      src="https://natashaskitchen.com/wp-content/uploads/2020/05/Vanilla-Cupcakes-3.jpg"
      alt="Vanilla Cupcakes"
    />
    <h2>Vanilla Cupcakes</h2>
    <p><p>Delicious and fluffy vanilla cupcakes that are perfect for any occasion.</p>
</p>
  </a>
  
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Initialize lunr
    var idx = lunr(function () {
      this.field('title');
      this.field('content');
      this.ref('id');

      
      
      this.add({
        "title": "Chocolate Cake",
        "content": `A rich and moist chocolate cake perfect for any occasion.
`,
        "id": "0"
      });
      
      
      this.add({
        "title": "Lemon Cake",
        "content": `This delightful Lemon Cake is infused with fresh lemon zest and topped with a tangy lemon glaze.
`,
        "id": "1"
      });
      
      
      this.add({
        "title": "Lemon Meringue Pie",
        "content": `A classic dessert featuring a tangy lemon filling topped with a fluffy meringue.
`,
        "id": "2"
      });
      
      
      this.add({
        "title": "Vanilla Cupcakes",
        "content": `Delicious and fluffy vanilla cupcakes that are perfect for any occasion.
`,
        "id": "3"
      });
      
      
    });

    // List of recipes to map IDs to URLs and titles
    var recipes = [
      
      
      {
        "id": "0",
        "url": "/recipes/chocolate_cake.html",
        "title": "Chocolate Cake"
      },
      
      
      {
        "id": "1",
        "url": "/recipes/lemon_cake.html",
        "title": "Lemon Cake"
      },
      
      
      {
        "id": "2",
        "url": "/recipes/lemon_meringue_pie.html",
        "title": "Lemon Meringue Pie"
      },
      
      
      {
        "id": "3",
        "url": "/recipes/vanilla_cupcakes.html",
        "title": "Vanilla Cupcakes"
      }
      
      
    ];

    // Search function
    var input = document.getElementById('search-input');
  var resultsDiv = document.getElementById('search-results');

  input.addEventListener('input', function () {
    var query = this.value;
    if (query.length < 2) { // Optionally, only search when at least 2 characters are typed
      resultsDiv.style.display = 'none';
      return;
    }

    var results = idx.search(query);
    resultsDiv.innerHTML = ''; // Clear previous results
    if (results.length === 0) {
      resultsDiv.style.display = 'none';
    } else {
      results.forEach(function (result) {
        var recipe = recipes.find(r => r.id === result.ref);
        var a = document.createElement('a');
        a.href = recipe.url;
        a.textContent = recipe.title;
        resultsDiv.appendChild(a);
      });
      resultsDiv.style.display = 'block';
    }
  });

  // Hide dropdown when clicking outside
  document.addEventListener('click', function (event) {
    if (!input.contains(event.target)) {
      resultsDiv.style.display = 'none';
    }
  });
  });
</script>

<style>
  .recipes-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
  }
  .recipe-tile {
    border: 1px solid #ccc;
    padding: 10px;
    margin: 10px;
    width: 30%; /* Adjust based on preference */
  }
</style>
</main>
  </body>
</html>
